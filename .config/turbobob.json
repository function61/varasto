{
	"for_description_of_this_file_see": "https://github.com/function61/turbobob",
	"version_major": 1,
	"project_name": "varasto",
	"project_emoji_icon": "ðŸ“¦",
	"subrepos": [
		{
			"source": "https://github.com/function61/f61ui.git",
			"kind": "git",
			"destination": "frontend/f61ui",
			"revision": "f17a26fb32e928ce4beed29738077e492a4f53ac"
		}
	],
	"builders": [
		{
			"name": "default",
			"uses": "docker://fn61/buildkit-golang:20250718_1205_2c9cd41a",
			"mount_destination": "/workspace",
			"workdir": "/workspace",
			"dev_pro_tips": [
				"to mess with FUSE, 'apt install fuse', add to Docker: --privileged --cap-add SYS_ADMIN --cap-add MKNOD --device /dev/fuse"
			],
			"dev_shell_commands": [
				{
					"command": "misc/seed-data/import.sh",
					"important": true
				},
				{
					"command": "rel/sto_linux-amd64 server",
					"important": true
				}
			],
			"dev_http_ingress": "443",
			"commands": {
				"prepare": ["bash","-c","exec go generate ./bin"],
				"build": ["bin/build.sh"],
				"dev": ["bash"]
			}
		},
		{
			"name": "frontend",
			"uses": "docker://fn61/buildkit-js:20251108_2134_569c7f67",
			"mount_destination": "/workspace",
			"dev_shell_commands": [
				{
					"command": "(cd frontend/ && tslint.sh --fix)",
					"important": true
				},
				{
					"command": "bin/build-frontend.sh",
					"important": true
				}
			],
			"commands": {
				"prepare": ["bin/build-frontend.sh"],
				"dev": ["bash"]
			}
		},
		{
			"name": "docs",
			"uses": "docker://fn61/buildkit-mkdocs:20200406_1529_aac78367",
			"mount_destination": "/workspace",
			"workdir": "/workspace",
			"dev_http_ingress": "8000",
			"dev_pro_tips": [
				"for preview: $ preview.sh"
			],
			"commands": {
				"build": ["run-mkdocs.sh", "docs/", "rel/docs-website.tar.gz"],
				"dev": ["sh"]
			}
		}
	],
	"os_arches": {
		"linux-amd64": true,
		"linux-arm": true,
		"linux-arm64": true,
		"darwin-amd64": true,
		"windows-amd64": true
	},
	"docker_images": [
		{
			"image": "fn61/varasto",
			"dockerfile_path": "Dockerfile",
			"platforms": ["linux/amd64", "linux/arm/v7", "linux/arm64"]
		}
	],
	"experiments_i_consent_to_breakage": {
		"prepare_step": true
	}
}
